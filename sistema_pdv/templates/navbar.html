{% load static %}
<aside class="sidebar">
  <div class="sidebar-top">
    <div class="brand">
      <img src="{% static 'img/logo.svg' %}" alt="SistemaPDV" class="brand-logo" />
      <div class="brand-title">SistemaPDV<br/><small>Gestão de Vendas</small></div>
    </div>
  </div>

  <nav class="menu">
    <div class="menu-section">PRINCIPAL</div>
    {% if user.is_superuser or user.perfil.permissao == 'administrador' %}
    <a class="menu-item active" href="{% url 'dashboard:index' %}">
      <span class="icon"> <!-- home -->
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.5L12 4l9 6.5V20a1 1 0 0 1-1 1h-5v-6h-6v6H4a1 1 0 0 1-1-1V10.5z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </span>
      <span class="label">Dashboard</span>
    </a>
    {% endif %}
    <a class="menu-item" href="{% url 'vendas:index' %}">
      <span class="icon"> <!-- cart -->
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 6h15l-1.5 9h-12z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><circle cx="9" cy="20" r="1" /><circle cx="19" cy="20" r="1"/></svg>
      </span>
      <span class="label">PDV - Vendas</span>
    </a>

    {% if user.is_superuser or user.perfil.permissao == 'administrador' %}
    <a class="menu-item" href="{% url 'produtos:index' %}">
      <span class="icon"> <!-- box -->
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21 16V8l-9-5-9 5v8l9 5 9-5z" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </span>
      <span class="label">Produtos</span>
    </a>
    <a class="menu-item" href="{% url 'estoque:index' %}">
      <span class="icon"> <!-- bar chart -->
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 3v18M7 8v10M17 13v5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </span>
      <span class="label">Estoque</span>
    </a>
    {% endif %}

    <div class="menu-section">CADASTROS</div>
    <a class="menu-item" href="{% url 'clientes:index' %}">
      <span class="icon"> <!-- users -->
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/><circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="1.3"/></svg>
      </span>
      <span class="label">Clientes</span>
    </a>

    {% if user.is_superuser or user.perfil.permissao == 'administrador' %}
    <a class="menu-item" href="{% url 'funcionarios:index' %}">
      <span class="icon"> <!-- user-tie -->
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM6 20v-2a4 4 0 0 1 4-4h0a4 4 0 0 1 4 4v2" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </span>
      <span class="label">Funcionários</span>
    </a>
    <a class="menu-item" href="{% url 'fornecedores:index' %}">
      <span class="icon"> <!-- truck -->
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 3h13v13H1zM16 8h5l2 3v5h-7" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </span>
      <span class="label">Fornecedores</span>
    </a>

    <div class="menu-section">RELATÓRIOS</div>
    <a class="menu-item" href="{% url 'relatorios:index' %}">
      <span class="icon"> <!-- file-text -->
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/><path d="M14 2v6h6" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </span>
      <span class="label">Relatórios</span>
    </a>
    <a class="menu-item" href="#">
      <span class="icon"> <!-- dollar-sign -->
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 1v22M17 5H9a3 3 0 0 0 0 6h6a3 3 0 0 1 0 6H7" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </span>
      <span class="label">Financeiro</span>
    </a>
    <a class="menu-item" href="{% url 'vendas:index' %}">
      <span class="icon"> <!-- shopping-bag -->
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 2l1 4h10l1-4" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/><path d="M3 6h18v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </span>
      <span class="label">Gerenciar Vendas</span>
    </a>
    {% endif %}
  </nav>

  <div style="margin-top: auto; padding: 16px 8px; border-top: 1px solid rgba(255,255,255,0.1);">
    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="color: var(--muted);">
        <circle cx="12" cy="8" r="4" stroke="currentColor" stroke-width="1.5"/>
        <path d="M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2" stroke="currentColor" stroke-width="1.5"/>
      </svg>
      <span style="font-size: 13px; color: var(--muted);">{{ user.first_name|default:user.username }}</span>
    </div>
    <form method="POST" action="{% url 'usuarios:logout' %}" style="margin: 0;">
      {% csrf_token %}
      <button type="submit" style="width: 100%; padding: 8px 12px; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: var(--text); font-size: 13px; font-weight: 500; cursor: pointer; transition: 0.2s; display: flex; align-items: center; gap: 8px; justify-content: center;">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4M16 17l5-5-5-5M21 12H9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        Sair do Sistema
      </button>
    </form>
  </div>

</aside>
